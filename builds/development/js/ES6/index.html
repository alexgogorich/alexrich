<!-- <script src="https://google.github.io/traceur-compiler/bin/traceur.js"></script>
<script src="https://google.github.io/traceur-compiler/src/bootstrap.js"></script>
<script type="module">
// ES 6
</script> -->

<script>
    function applyDiscount (cost, discount = .4) {
        return cost - (cost * discount);
    }
    console.log(applyDiscount(100));
    //default values in ES6
</script>

<script>
    let sum = (...person) => {
return person.reduce((name, lastname) => name +" - "+ lastname);  
}
console.log(sum("Ross", "Rachale", "Monica"));
//rest  operator
</script>

<script>
   let sum = (x, y) => {
        return x * y;
    }
   let numbs = [4, 8, 1];
    console.log(sum(...numbs));
    //spread operator
</script>

<script>
    function getData(){
  let name = "Naser";
  let age = 27;
  
  return { // تبدیل دو متغیر بالا به آبجکت در ES5
    name: name,
    age : age,
  };
}
console.log(getData().name);
</script>

<script>
    function getData(){
  let name = "Naser";
  let age = 27;
  
  return { // تبدیل دو متغیر بالا به آبجکت در ES6***
    name, // دیگه لازم نیس برابر name و age  قرار بدیم
    age
  };// Object shorthand
}
console.log(getData().name);
</script>
<script>
    function getData(){
  let name = "Tina";
  let age = 27;
  
  return { 
    name, 
    age,
    lastname: function () {// به روش ES5
        return this.name +" "+ 'Hejazi';
    }
  };
}
console.log(getData().lastname());
</script>

<script>
    function getData(){
  let name = "Naser";
  let age = 27;
  
  return { 
    name, 
    age,
    lastname() {// به روش ES6
        return `${this.name} Hejazi ${this.age}`;//backtick
    }
  };
}
console.log(getData().lastname());
</script>

<script>
    let person = {
        name : 'Hani',
        age : 24
    }
// ES6
    let {name, age} = person;//برای دسترسی به personاینگونه عمل میکنیم  
    console.log(name);
    //در ES5 باید person.name را فرا میخواندیم
</script>



<script>
    // Class definition in ES5
    function User(username, email) {
        this.username = username;
        this.email = email;
    }

    User.prototype.changeEmail = function (newEmail) {
        this.email = newEmail;
    }
    
    User.prototype.changeUsername = function (newUsername) {
        this.username = newUsername;
    }

    var user = new User ('momo', 'amir@gmail.com');

    user.changeEmail('momo@gmail.com');
    user.changeUsername('gogo');
    
    console.dir(user);

</script>

<script>
     // Class definition in ES6***
    class User {
        constructor(username, email) {
            this.username = username;
            this.email = email;
        }

        changeEmail(newEmail){
            this.email = newEmail;
        }

        static register(username, email){
            return new User(username, email);// instantiate class user***
        }        
        // static register(...args){
        //     return new User(...args); // Rest Spread ***
        // }
    }

        let user = User.register('momo', 'momo@gmail.com');
        user.changeEmail('ali@gmail.com');

        console.dir(user);
</script>

<script>
class User {
    constructor(username, email){  
        this._username = username;// we must change the username for getter and setter  
        this.email = email;
    }
    changeEmail(newEmail){
        this.email = newEmail; 
    }
    static register(...args) {
        return new User (...args);
    }
    // getter and setter***
    set username(changeUsername) {
        this._username = changeUsername;
    }
    get username() {
        return "the name is: " + this._username;
    }
}
   
    let user = User.register('momo', 'momo@gmail.com');
    user.changeEmail('gogo@gmail.com');
    console.dir(user);
</script>

<script>
    function log(strategy) {
        strategy.handle();
    }
    log(new class {
        handle() {
            alert('Handled by alert');
        }
    });
</script>

<script>
    //promise - we dont need to use function to function
let car = new Promise (function(resolve, reject) {
    console.log('BMW');
    setTimeout(function() {
        console.log('Benz');
    }, 2000);

    resolve();
})

car.then(function(data) {
    console.log('Porsche');
})
</script>